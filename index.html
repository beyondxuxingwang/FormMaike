<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>创建表单</title>
    <link rel="stylesheet" href="./css/normalize.css">
    <link rel="stylesheet" href="./font/css/font-awesome.min.css">
    <link rel="stylesheet" href="./css/form.css">
</head>

<body>

    <div class="wrapper w">
        <!-- 左侧组件栏 -->
        <div class="w-item w-left">
            <div class="l-component">
                <h4>基础类组件</h4>
                <ul class="l-ul">
                    <li class="l-ul-li" data-id="1">文本框</li>
                    <li class="l-ul-li" data-id="2">选择</li>
                    <li class="l-ul-li" data-id="3">下拉</li>
                    <li class="l-ul-li" data-id="4">日期时间</li>
                    <li class="l-ul-li" data-id="5">姓名</li>
                    <li class="l-ul-li" data-id="6">手机</li>
                    <li class="l-ul-li" data-id="7">邮箱</li>
                    <li class="l-ul-li" data-id="8">性别</li>
                    <li class="l-ul-li" data-id="9">公司</li>
                </ul>
                <ul class="l-ul" style="border-top: 3px solid #267DC5; padding-top: 10px; ">
                    <h4 style="color:forestgreen">添加组件</h4>
                    <li class="l-ul-li" data-id="10">地址</li>
                </ul>
                
            </div>
        </div>
        <!-- 中间表单栏 -->
        <div class="w-item w-mid">
            <div class="mid-main">
                <div class="mid-main-title">
                    <p class="mid-main-title-one">新建表单</p>
                    <p class="mid-main-title-two">
                        <!-- sdafsdasadfasdfasdfasdfasdfasdfsdafas -->
                    </p>
                </div>

                <ul id="mid-ul" class="mid-ul">
                    <!-- 文本框 模板-->
                    <!-- <li class="mid-li mid-wenben">
                    </li> -->
                </ul>
                <div class="formBtn">
                    <button id="formBtn">提交</button>
                </div>
            </div>
        </div>
        <!-- 右侧参数栏 -->
        <div class="w-item w-right">
            <div class="r-header">
                <p class="r-header-p">编辑表单</p>
            </div>
            <!-- 编辑模板渲染处 -->
            
            <div class="r-tab" id="r-tab">

            </div>


        </div>

    </div>
    <script src="js/temp.js"></script>
    <script src="js/index.js"></script>
    <script src="plugin/jquery.min.js"></script>
    <script>

        var FormMake = new FormMake({});
        // 提交
        document.getElementById('formBtn').onclick = function () {
            // 存放数据
            var arr = [];

            // 获取中间表单所有的Li 标签
            // 遍历每个li获取其中的数据存储到每个对象中
            $('.mid-li').each(function (i) {

                var obj = {};
                // 想要获取什么属性，手动添加什么属性
                obj.className = $(this).attr('class');
                obj.label = $(this).find('.m-title').html(); // 获取标题
                obj.type = $(this).find('.mid-li-type').html();// 获取类型
                obj.name = $(this).find('.mid-li-name').html();// 获取name
                obj.required = $(this).find('.mid-li-required').html();// required
                
                

                var item = [];
                // 单选框,多选框 以及下拉框
                if ($(this).attr("data-id") == 2 || $(this).attr("data-id") == 8) {
                   $(this).find('.m-li-item span').each(function () {
                        var itemObj = {};
                        itemObj.value = $(this).html();

                        item.push(itemObj);
                    })

                    obj.items = item;
                    arr.push(obj);

                } else if ($(this).attr("data-id") == 3) {
                    $('option').each(function () {
                        var itemObj = {};
                        itemObj.value = $(this).html();

                        item.push(itemObj);
                    })

                    obj.items = item;
                    arr.push(obj);
                } else {
                    obj.value = $(this).find('.mid-li-value').html();
                    obj.disabled = $(this).find('.mid-li-disabled').html();
                    arr.push(obj)
                }

            });


            console.log(arr);
            



        }

    </script>
</body>

</html>